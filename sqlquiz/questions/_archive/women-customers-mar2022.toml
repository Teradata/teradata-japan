# IDはユニークな文字列であれば何でも良いが、なるべくこの形式で（たぶん並べ替えやすいので）
qid = "q00000112"

# タグは文字列の配列。なしでもよい。
# タグには言語の区別はなくても良いだろう。
tags = [
  "date",
  "join"
]


# カテゴリは必ず１つの文字列。問題の分類に用いる
# 使用できるカテゴリ一覧は別途用意する
[category]
ja = "SQL/Teradata 基礎"
en = "SQL/Teradata Basic"

[title]
ja = "2022年3月に商品を購入した女性顧客"
en = "Women customers who purchased products in March 2022"

[content]
ja = """<em>TeraShirt.store_sales</em> テーブルには、TeraShirt社の売上の情報が、
また <em>TeraShirt.customer</em> テーブルには、顧客情報が格納されています。<br />
これらのテーブルを用いて、2022年3月に女性の顧客が商品を購入したか知りたいと思いました。
そこで、2022年3月の売上と女性の顧客を突合し出力することにしました。<br />
売り上げた日時、顧客のID、姓、名及び商品のIDを表示してください。
なお、突合できない売上及び顧客の行も含めて表示すること。
"""
en = """<em>TeraShirt.store_sales</em> table stores the information of sales of the TeraShirt company.
<em>TeraShirt.customer</em> table stores the information of customers of the TeraShirt company.<br />
Using these tables, you want to know whether women customers purchased products in March 2022.
Then, you decided to join sales in March 2022 and women customers.<br />
Show the timestamp, customer ID, last name, first name and product ID.
Note that you should include sales which don't match in <em>TeraShirt.customer</em> table and customers who don't match in <em>TeraShirt.store_sales</em> table.
"""


[hint]
ja = """ヒント1：両方のテーブルに顧客のIDが含まれています。<br />
ヒント2：突合できない売上は、その商品を購入した顧客が女性ではないことを表しています。
また突合できない顧客は、その顧客が2022年3月に商品を購入しなかったことを表しています。
"""
en = """Hint1: Both tables include the customer ID.<br />
Hint2: Sales which don't match in <em>TeraShirt.customer</em> table represent that customers who purchased products are not women.
On the other hand, customers who don't match in <em>TeraShirt.store_sales</em> table represent that they didn't purchase products in March 2022.
"""


[references]
ja = ""
en = ""


# 正誤判定に関する定義
[judgement]
check_shape = true         # クエリ結果の行列数の一致を求めるか
shape = [160, 5]           # 想定されたクエリ結果のサイズ

check_type = true          # クエリ結果の列の型の一致を求めるか
types = [ "str", "int", "str", "str", "int" ]         # 想定されたクエリ結果の変数型

check_value = true         # 想定解との値の一致を求めるか
ordered = false            # クエリ結果の並び順が指定されているかどうか
value_from = "csv"         # 想定結果の指定方法
                           # csv      : 想定結果のCSV文字列を指定
                           # query    : 想定結果を生成するクエリを指定。動的に実行して判定する
csv = """
purchase_timestamp,customer_id,last_name,first_name,product_id
2022-03-10 15:00:49,3,山本,淳子,135
2022-03-15 17:00:11,6,澤田,由美,167
2022-03-06 15:00:34,16,大久保,理紗,140
2022-03-09 14:00:43,20,遠藤,夕貴,155
2022-03-30 15:00:04,24,川本,真由子,96
2022-03-04 15:00:50,26,平松,あすか,59
2022-03-04 15:00:50,26,平松,あすか,45
2022-03-22 16:00:33,26,平松,あすか,131
2022-03-31 11:00:47,26,平松,あすか,33
2022-03-31 11:00:47,26,平松,あすか,134
2022-03-31 15:00:42,31,丹羽,有里子,119
2022-03-24 15:00:12,32,土屋,ユカリ,65
2022-03-31 15:00:40,33,武本,泰子,149
2022-03-23 15:00:19,36,宮田,早,63
2022-03-23 17:00:30,37,筒井,礼奈,150
2022-03-22 14:00:28,38,白石,知江,176
2022-03-20 12:00:15,39,齋藤,典代,130
2022-03-31 20:00:13,39,齋藤,典代,98
2022-03-20 10:00:40,41,今泉,香絵,79
2022-03-29 15:00:25,45,田辺,利津子,68
2022-03-04 13:00:56,49,明石,万由美,45
2022-03-11 19:00:01,53,安井,麻未,5
2022-03-27 11:00:45,54,冨本,智絵,180
2022-03-27 11:00:45,54,冨本,智絵,15
2022-03-03 19:00:01,55,中田,唯那,179
2022-03-03 19:00:01,55,中田,唯那,32
2022-03-20 13:00:51,57,早瀬,秋葉,18
2022-03-20 13:00:51,57,早瀬,秋葉,60
2022-03-30 13:00:04,58,福與,瑛里,165
2022-03-14 11:00:54,63,,,76
2022-03-09 20:00:11,66,,,114
2022-03-17 13:00:55,75,,,35
2022-03-13 13:00:27,77,,,179
2022-03-30 17:00:31,79,,,37
2022-03-23 15:00:03,83,,,34
2022-03-29 17:00:32,85,,,86
2022-03-18 13:00:29,88,,,163
2022-03-15 13:00:44,102,,,98
2022-03-10 15:00:09,118,,,97
2022-03-20 13:00:34,,,,107
2022-03-05 17:00:28,,,,170
2022-03-18 20:00:28,,,,150
2022-03-07 13:00:39,,,,135
2022-03-08 11:00:10,,,,41
2022-03-08 11:00:10,,,,160
2022-03-06 13:00:38,,,,14
2022-03-23 18:00:56,,,,58
2022-03-07 13:00:15,,,,15
2022-03-12 15:00:05,,,,180
2022-03-10 15:00:58,,,,14
2022-03-02 17:00:13,,,,121
2022-03-23 18:00:31,,,,44
2022-03-03 16:00:34,,,,89
2022-03-05 17:00:34,,,,170
2022-03-03 19:00:04,,,,78
2022-03-12 15:00:43,,,,107
2022-03-06 14:00:17,,,,3
2022-03-19 17:00:16,,,,45
2022-03-31 14:00:21,,,,36
2022-03-29 20:00:00,,,,87
2022-03-29 20:00:00,,,,119
2022-03-30 11:00:50,,,,14
2022-03-25 13:00:02,,,,138
2022-03-13 15:00:22,,,,50
2022-03-13 15:00:22,,,,47
2022-03-13 15:00:22,,,,170
2022-03-22 12:00:27,,,,18
2022-03-25 13:00:41,,,,7
2022-03-27 16:00:25,,,,45
2022-03-27 16:00:25,,,,140
2022-03-12 13:00:47,,,,139
2022-03-09 19:00:18,,,,101
2022-03-31 13:00:04,,,,154
2022-03-19 13:00:25,,,,64
2022-03-01 15:00:59,,,,55
2022-03-05 14:00:07,,,,177
2022-03-18 10:00:27,,,,133
2022-03-28 11:00:13,,,,40
2022-03-03 17:00:17,,,,13
2022-03-16 14:00:13,,,,145
2022-03-20 16:00:09,,,,103
2022-03-03 13:00:23,,,,127
2022-03-05 18:00:00,,,,58
2022-03-05 18:00:00,,,,178
2022-03-18 17:00:05,,,,148
2022-03-31 17:00:11,,,,149
2022-03-18 15:00:10,,,,123
2022-03-18 15:00:10,,,,44
2022-03-19 17:00:46,,,,154
2022-03-25 14:00:58,,,,2
2022-03-25 14:00:58,,,,161
2022-03-25 14:00:58,,,,85
2022-03-24 13:00:43,,,,75
2022-03-12 14:00:44,,,,59
2022-03-26 11:00:06,,,,17
2022-03-29 13:00:11,,,,129
2022-03-09 14:00:33,,,,5
2022-03-09 14:00:33,,,,93
2022-03-22 15:00:30,,,,74
2022-03-27 11:00:53,,,,68
2022-03-16 13:00:54,,,,27
2022-03-12 14:00:40,,,,36
2022-03-14 19:00:45,,,,70
2022-03-09 13:00:45,,,,129
2022-03-17 17:00:59,,,,60
2022-03-03 18:00:32,,,,27
2022-03-26 17:00:45,,,,87
2022-03-12 16:00:29,,,,90
2022-03-22 13:00:11,,,,132
2022-03-22 13:00:08,,,,122
2022-03-13 19:00:35,,,,15
2022-03-22 17:00:12,,,,171
2022-03-27 16:00:46,,,,162
2022-03-25 16:00:05,,,,165
2022-03-25 16:00:05,,,,156
2022-03-25 16:00:05,,,,76
2022-03-09 15:00:13,,,,42
2022-03-09 15:00:13,,,,8
2022-03-31 15:00:28,,,,71
2022-03-11 12:00:26,,,,174
2022-03-17 14:00:58,,,,165
,1,吉田,恵,
,2,伊藤,仁美,
,4,石井,かおり,
,5,浅野,明子,
,7,秋山,由紀,
,8,佐伯,直子,
,9,片山,早苗,
,10,森田,由希子,
,11,園田,明子,
,12,小林,朗子,
,13,原,麻希,
,14,成田,奈央,
,15,小松,春奈,
,17,武田,萌子,
,18,古川,咲,
,19,甲斐,千絵,
,21,山口,めい,
,22,中島,亜子,
,23,山岡,葉子,
,25,佐竹,美沙,
,27,岩崎,隆子,
,28,坂田,美優,
,29,和田,紫穂,
,30,堀江,小夜子,
,34,大村,冴子,
,35,伴,亜季,
,40,細山,梢,
,42,桃崎,久美子,
,43,吉澤,槙,
,44,國政,知子,
,46,大串,恵利子,
,47,小堺,綾美,
,48,高野,聡里,
,50,豊田,磨希,
,51,小嶋,麻理香,
,52,程,美也子,
,56,鏡山,琴音,
,59,都倉,美夏子,
,60,栗賀,未知,
"""
#query = 

check_explain = false